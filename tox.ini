[tox]
skipsdist = True
envlist = py35, lint

[testenv:py35]
deps = -r{toxinidir}/requirements.txt

[testenv:lint]
passenv = TRAVIS TRAVIS_JOB_ID TRAVIS_BRANCH

deps = -r{toxinidir}/test-requirements.txt

commands =
    find {toxinidir} -not -path '{toxinidir}/.tox/*' -name '*.pyc' -delete
    flake8
    bash {toxinidir}/tools/ci/validate-all-yaml.sh

whitelist_externals =
    bash
    find

[flake8]
show-source = true
